(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
/**
 * Copyright (C) 2014-2015 ServMask Inc.
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 *
 * ███████╗███████╗██████╗ ██╗   ██╗███╗   ███╗ █████╗ ███████╗██╗  ██╗
 * ██╔════╝██╔════╝██╔══██╗██║   ██║████╗ ████║██╔══██╗██╔════╝██║ ██╔╝
 * ███████╗█████╗  ██████╔╝██║   ██║██╔████╔██║███████║███████╗█████╔╝
 * ╚════██║██╔══╝  ██╔══██╗╚██╗ ██╔╝██║╚██╔╝██║██╔══██║╚════██║██╔═██╗
 * ███████║███████╗██║  ██║ ╚████╔╝ ██║ ╚═╝ ██║██║  ██║███████║██║  ██╗
 * ╚══════╝╚══════╝╚═╝  ╚═╝  ╚═══╝  ╚═╝     ╚═╝╚═╝  ╚═╝╚══════╝╚═╝  ╚═╝
 */

var feedback = require('./servmask/feedback');

jQuery(document).ready(function ($) {
	'use strict';

	// Get account info
	if (ai1wmde_settings.token) {
		$.ajax(
			{
				url: ai1wmde_settings.ajax.account_url,
				dataType: 'json',
				type: 'GET'
			}
		)
		.done(function (result) {
			$('#ai1wmde-dropbox-details').html('Logged in as <strong>' + result.name + '<strong>');
			$('#ai1wmde-dropbox-space').html('Dropbox space <strong>' + result.used + '</strong> of <strong>' + result.total + '</strong>');
			$('#ai1wmde-dropbox-progress-bar').width((result.progress < 10 ? '10%' : result.progress + '%')).text(result.progress + '%');
		});
	}
});

},{"./servmask/feedback":2}],2:[function(require,module,exports){
/**
 * Copyright (C) 2014 ServMask Inc.
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 *
 * ███████╗███████╗██████╗ ██╗   ██╗███╗   ███╗ █████╗ ███████╗██╗  ██╗
 * ██╔════╝██╔════╝██╔══██╗██║   ██║████╗ ████║██╔══██╗██╔════╝██║ ██╔╝
 * ███████╗█████╗  ██████╔╝██║   ██║██╔████╔██║███████║███████╗█████╔╝
 * ╚════██║██╔══╝  ██╔══██╗╚██╗ ██╔╝██║╚██╔╝██║██╔══██║╚════██║██╔═██╗
 * ███████║███████╗██║  ██║ ╚████╔╝ ██║ ╚═╝ ██║██║  ██║███████║██║  ██╗
 * ╚══════╝╚══════╝╚═╝  ╚═╝  ╚═══╝  ╚═╝     ╚═╝╚═╝  ╚═╝╚══════╝╚═╝  ╚═╝
 */

jQuery(document).ready(function ($) {
	'use strict';

	// Reset feedback form
	$('.ai1wm-feedback-type').attr('checked', false);

	// Review
	$('#ai1wm-feedback-type-link-1').click(function (e) {
		var radio = $('#ai1wm-feedback-type-1');
		if (radio.is(':checked')) {
			radio.attr('checked', false);
			e.preventDefault();
		} else {
			radio.attr('checked', true);
		}
	});

	// Improvement
	$('#ai1wm-feedback-type-2').click(function () {
		// Hide other options
		$('#ai1wm-feedback-type-1, #ai1wm-feedback-type-3').closest('li').hide();

		// change placeholder message
		$('.ai1wm-feedback-form').find(
			'.ai1wm-feedback-message'
		).attr('placeholder', 'Leave plugin developers any feedback here');

		// Show feedback form
		$('.ai1wm-feedback-form').fadeIn();
	});

	// Help
	$('#ai1wm-feedback-type-3').click(function () {
		// Hide other options
		$('#ai1wm-feedback-type-1, #ai1wm-feedback-type-2').closest('li').hide();

		// change placeholder message
		$('.ai1wm-feedback-form').find(
			'.ai1wm-feedback-message'
		).attr('placeholder', 'How may we help you?');

		// Show feedback form
		$('.ai1wm-feedback-form').fadeIn();
	});

	// Cancel feedback form
	$('#ai1wm-feedback-cancel').click(function (e) {
		$('.ai1wm-feedback-form').fadeOut(function () {
			$('.ai1wm-feedback-type').attr('checked', false)
									 .closest('li')
									 .show();
		});
		e.preventDefault();
	});

	// Send feedback form
	$('#ai1wm-feedback-submit').click(function () {
		var type = $('.ai1wm-feedback-type:checked').val();
		var email = $('.ai1wm-feedback-email').val();
		var message = $('.ai1wm-feedback-message').val();
		var terms = $('.ai1wm-feedback-terms').is(':checked');

		$.ajax({
			type: 'POST',
			url: ai1wm_feedback.ajax.url,
			data: { 'ai1wm-type': type, 'ai1wm-email': email, 'ai1wm-message': message, 'ai1wm-terms': +terms },
			success: function (data) {
				var errors = data.errors;
				if (errors.length > 0) {
					// Reset previous messages
					$('.ai1wm-feedback .ai1wm-message').remove();

					var content = $('<div />').addClass('ai1wm-message ai1wm-error-message');
					$.each(errors, function (key, value) {
						content.append('<p>' + value + '</p>');
					});

					$('.ai1wm-feedback').prepend(content);
				} else {
					var _content = $('<div />').addClass('ai1wm-message ai1wm-success-message').append(
						'<p>Thanks for submitting your feedback!</p>'
					);
					$('.ai1wm-feedback').html(_content);
				}
			},
			dataType: 'json',
			async: false
		});
	});
});

},{}]},{},[1])